@import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

:root {
/* Color styles */
--main--dark: rgba(45, 9, 53, 1);
--main--light: rgba(246, 250, 251, 1);
--brand--brand: rgba(83, 126, 112, 1);
--brand--dark: rgba(48, 69, 62, 1);
--brand--light: rgba(133, 160, 152, 1);
--brand--comp1: rgba(27, 152, 205, 1);
--brand--comp2: rgba(210, 52, 86, 1);
--gray--90: rgba(68, 32, 77, 1);
--gray--70: rgba(108, 80, 116, 1);
--gray--50: rgba(147, 129, 154, 1);
--gray--30: rgba(187, 177, 193, 1);
--gray--20: rgba(206, 202, 212, 1);
--gray--10: rgba(226, 226, 232, 1);
--gray--5: rgba(236, 238, 241, 1);
--danger--light: rgba(243, 204, 204, 1);
--danger--medium: rgba(235, 32, 35, 1);
--danger--dark: rgba(148, 15, 17, 1);
--warning--medium: rgba(255, 227, 28, 1);
--warning--light: rgba(246, 239, 185, 1);
--warning--dark: rgba(156, 138, 12, 1);
--success--dark: rgba(43, 130, 35, 1);
--success--medium: rgba(67, 208, 55, 1);
--success--light: rgba(192, 236, 188, 1);
--link--active: rgba(20, 17, 86, 1);
--link--link: rgba(0, 0, 0, 0.5);
--link--hover: rgba(45, 39, 169, 1);
--link--visited: rgba(110, 35, 138, 1);
--rating--discomfort: rgba(219, 81, 109, 1);
--rating--neutral: rgba(222, 208, 87, 1);
--rating--comfort: rgba(85, 208, 99, 1);
--rating--light-discomfort: rgba(237, 187, 197, 1);
--rating--dark-comfort: rgba(67, 158, 77, 1);
--rating--dark-discomfort: rgba(162, 73, 91, 1);
--rating--dark-neutral: rgba(169, 159, 75, 1);
--rating--light-comfort: rgba(174, 231, 180, 1);
--rating--light-neutral: rgba(239, 232, 178, 1);
--rating--25: rgba(221, 146, 98, 1);
--rating--75: rgba(154, 208, 93, 1);

/* Text-size styles */
--caption: 12px;
--title--h1: 4em;
--title--h2: 3em;
--title--h3: 2em;
--body--large: 3em;
--body--medium: 2.5em;
--body--small: 2em;
--link--large: 20px;
--link--medium: 16px;
--link--small: 12px;

/* || размеры паддингов */
--padding-tag-v: calc(var(--font-size-paragraph)/3);
--padding-tag-h: calc(2*var(--font-size-paragraph)/3);
--padding-button: calc(2*var(--font-size-paragraph)/3);

/* Fallback / legacy color tokens (были использованы, но не объявлены) */
--color-abyss: #FFFFFF;
--color-mint: #537E70;
--color-nettle: #305744;
--color-cotton: #2D0935;
--color-slush: #6C5074;
--color-cedar: #53806F;
--color-pine: #85A098;
--color-pits: #18594B;
--color-bergamot: #D8ECE6;
--color-forecast: #ECEEF1;
--color-persimmon: #D23456;
}


/* || стили текста */
body {
  font-family: 'Jost', sans-serif;
  background: var(--main--light);
  margin:0; padding:0;
  -webkit-font-smoothing: antialiased;
}
::selection {
  background-color: var(--color-burn);
}
:disabled {
  cursor:default !important;
}
a {
  color: var(--color-cotton);
}
a:not(.button,.tag,.cat):hover {
  color: var(--color-slush);
  cursor: pointer;
}
.tc {
  font-size: var(--font-size-paragraph);
  font-weight: 400;
}
h1 {
  font-size: var(--title--h1);
  /*font-style: italic;*/
  font-weight: 400;
  color: var(--color-cotton);
  text-align: center;
}/*замена*/
h2 {
  font-size: var(--font-size-h2);
  font-weight: 400;
  color:var(--color-cotton);
}
h3 {
  font-size: var(--title--h3);
  font-weight: 400;
  color:var(--color-cotton);
}

p, ::placeholder {
  font-size: var(--body--medium);
  font-weight: 400;
  color:var(--color-cotton);
}

.button {
  font-size: var(--body--large);
  font-weight: 400;
  text-decoration: none;
}

.large {
  font-size: var(--body--large);
}

.medium {
  font-size: var(--body--medium);
}

.small {
  font-size: var(--body--small);
}


main {
  display: flex;
  flex-direction: column;
  gap:150px;
}


html, body { height:100%; width:100%; overflow:hidden; }

/* footer removed in new layout */

.slider-chooser {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.rating-scale {
  display: flex;
  flex-direction: row;
  gap: 30px;
  justify-content: center;
}



/* || строка ввода */
input{ 
  padding: var(--padding-tag-h) var(--font-size-paragraph);
  color: var(--color-cotton);
  font-size: var(--font-size-paragraph);
  font-weight: 400;
  background-color: var(--color-abyss);
}

input.attention-prima{
  border: 1px solid var(--color-mint);
  outline: var(--color-mint);;
}

input.attention-sec{
  border-top: 1px solid var(--color-nettle);
  border-bottom: 1px solid var(--color-nettle);
  border-left:none;
  border-right:none;
  background-color: var(--color-pine);
  outline: var(--color-mint);;
}

form {
  display: flex;
  flex-direction: column;
}

label {
  color: var(--color-nettle);
 
  font-weight: 200;
}

label.up {
  margin-top:-20px;
}

label.down {
  margin-bottom:-20px;
}


input:hover {
  background-color: var(--color-bergamot);
}

input:disabled {
  background-color: var(--color-forecast);
  border: 1px solid var(--color-slush);
}

input::placeholder {
  color:var(--color-nettle);
}

/* || стили кнопок */
.button {
  border-radius: 16px;
  color: var(--main--dark);
  padding: 0.5em;
  display:flex;
  width:fit-content;
  cursor:pointer;
}
.button.attention-prima {
  background-color: var(--brand--brand);
   color: var(--main--light);
  border: none;
}
.button.attention-sec {
  background-color: var(--color-mint);
  border: none;
  color: var(--brand--brand);
}
.button.attention-tertia {
  background-color: var(--color-abyss);
  border-color: var(--color-nettle);
  border: none;
  color: var(--brand--brand);
}
.button.attention-prima:hover {
  background-color: var(--color-cedar);
}
.button.attention-sec:hover {
  background-color: var(--color-pine);
}
.button.attention-tertia:hover {
  border-color: var(--color-mint);
}
.button.attention-prima:active {
  background-color: var(--color-pits);
}
.button.attention-sec:active {
  background-color: var(--color-bergamot);
}
.button.attention-tertia:active {
  border-color: var(--color-pine);
}
.button.attention-prima:disabled {
  background-color: var(--color-forecast);
}
.button.attention-sec:disabled {
  background-color: var(--color-slush);
}
.button.attention-tertia:disabled {
  border-color: var(--color-slush);
}
.hidden{
  display: none !important;
}
.invisible{
  visibility: hidden !important;
}
.button:not(.icon) > ion-icon {
  margin-left: 0;
  margin-right: 5px;
}
.button.icon {
  background-color: transparent;
  border:transparent;
  color:var(--main--dark);
  font-size: 1.5em;
  padding: 0 0;

}
.button.icon:hover{
  color:var(--color-slush);
  
}
.button.icon:active{
  color:var(--color-forecast);
  
}
.button.icon:disabled{
  color:var(--color-slush);
  
}

.button.icon.attention-s{
  color:var(--color-slush);
  
}
.button.icon.attention-s:hover{
  color:var(--color-forecast);
}
.button.icon.attention-s:active{
  color:var(--color-pits);
}
.button.icon.attention-s:disabled{
  color:var(--color-forecast);
}

.button.child {
  color: var(--brand--brand);
  background-color: var(--main--light);
  border: solid;
  border-color: var(--brand--brand);
  border-width: 5px;
}

.button img {
  height:1.5em;
  width: 1.5em;
}


.rating-scale .button {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap:10px;
}

.rating-scale .b5 {
  border: 5px solid var(--rating--dark-comfort); /* Параметры рамки */
    background-color: var(--main--light); /* Цвет фона */
    color: var(--rating--dark-comfort);
}

.rating-scale .b4 {
  border: 5px solid #769F4C; /* Параметры рамки */
    background-color: var(--main--light); /* Цвет фона */
    color: #769F4C;
}
.rating-scale .b3 {
  border: 5px solid var(--rating--dark-neutral); /* Параметры рамки */
    background-color: var(--main--light); /* Цвет фона */
    color: var(--rating--dark-neutral);
}
.rating-scale .b2 {
  border: 5px solid #A67453; /* Параметры рамки */
    background-color: var(--main--light); /* Цвет фона */
    color: #A67453;
}
.rating-scale .b1 {
  border: 5px solid var(--rating--dark-discomfort); /* Параметры рамки */
    background-color: var(--main--light); /* Цвет фона */
    color: var(--rating--dark-discomfort);
}


/* || стили скролл-баров */
::-webkit-scrollbar {
  width: 12px;             
}
::-webkit-scrollbar-track {
  background: var(--color-abyss);        
}
::-webkit-scrollbar-thumb {
  background-color: var(--color-mint);    
  border: 3px solid var(--color-abyss);  
}

input[type="checkbox"],[type="range"] {
  accent-color: var(--color-persimmon);
}



/* || меню хэдера */
/* legacy header & textarea styles removed */


/* || диалог создание тегов */

form{
  margin-bottom: 20px;
}


label {
  display: block;
}





.parent {
    width: 100%;
    height:160px;
    overflow: hidden;
    overflow-x: scroll;
    white-space:nowrap;
}

.child {
    display: inline-block;
    vertical-align: top;
}

#more {
  display: none;
  flex-direction: column;
  align-items: center;

}


#b4,#b3,#b2 {
  display:none;
}

/* Fullscreen map */
#map { position:fixed; inset:0; width:100%; height:100%; z-index:0; }
#map:empty::after { content:'Загрузка карты...'; display:flex; align-items:center; justify-content:center; height:100%; font-size:1.2rem; color:var(--brand--light); }

/* Floating Action Button */
.fab { position:fixed; bottom:24px; right:24px; width:64px; height:64px; border-radius:50%; border:none; background:var(--brand--brand); color:var(--main--light); font-size:28px; box-shadow:0 4px 12px rgba(0,0,0,.25); cursor:pointer; display:flex; align-items:center; justify-content:center; z-index:10; transition:background .2s, transform .18s; }
.fab:hover { background:var(--brand--dark); }
.fab:active { transform:scale(.92); }

/* Auth button (top-right) */
.auth-btn { position:fixed; top:16px; right:16px; z-index:12; display:flex; align-items:center; gap:8px; background:rgba(255,255,255,0.85); backdrop-filter:blur(4px); border:1px solid var(--gray--20); border-radius:28px; padding:10px 16px 10px 18px; font-size:14px; cursor:pointer; color:var(--brand--dark); box-shadow:0 2px 6px rgba(0,0,0,.15); transition:background .2s,border-color .2s; }
.auth-btn:hover { background:#fff; }
.auth-btn:active { transform:translateY(1px); }
.auth-btn i { font-size:16px; }

/* Auth dialog */
.auth-dialog { position:fixed; top:50%; left:50%; transform:translate(-50%, -40%) scale(.92); width: min(440px, 92%); background:var(--main--light); border-radius:24px; box-shadow:0 12px 32px -8px rgba(0,0,0,.35); padding:18px 22px 22px; opacity:0; visibility:hidden; transition:opacity .25s, transform .35s; z-index:30; display:flex; flex-direction:column; gap:18px; }
.auth-dialog.open { opacity:1; visibility:visible; transform:translate(-50%, -50%) scale(1); }
.auth-dialog__header { display:flex; align-items:center; justify-content:space-between; }
.auth-dialog__header h2 { font-size:1.2rem; margin:0; color:var(--brand--dark); }
.auth-dialog__tabs { display:flex; gap:8px; background:var(--gray--5); padding:4px; border-radius:14px; }
.auth-tab { flex:1; border:none; background:transparent; padding:8px 4px; border-radius:10px; font-size:0.85rem; cursor:pointer; color:var(--gray--70); font-weight:500; }
.auth-tab.active { background:var(--brand--brand); color:var(--main--light); box-shadow:0 2px 6px rgba(0,0,0,.15); }

.field-group { display:flex; flex-direction:column; gap:6px; }
.field-group label { font-size:0.7rem; letter-spacing:.05em; font-weight:600; text-transform:uppercase; color:var(--gray--70); }
.field-group input, .field-group select { border:1px solid var(--gray--30); background:#fff; border-radius:12px; padding:10px 14px; font-size:0.85rem; font-family:inherit; }
.field-group input:focus, .field-group select:focus { outline:2px solid var(--brand--brand); }

.auth-errors { min-height:18px; font-size:0.75rem; color:var(--danger--medium); }
.auth-submit { width:100%; margin-top:4px; font-size:0.9rem; padding:.9em 1em; }
.auth-dialog__footer { display:flex; justify-content:flex-end; }

/* Organization dialog */
.org-dialog { position:fixed; top:50%; left:50%; transform:translate(-50%, -40%) scale(.92); width:min(520px,95%); background:var(--main--light); border-radius:28px; box-shadow:0 16px 40px -8px rgba(0,0,0,.35); padding:22px 26px 26px; z-index:32; display:flex; flex-direction:column; gap:20px; opacity:0; visibility:hidden; transition:opacity .25s, transform .35s; }
.org-dialog.open { opacity:1; visibility:visible; transform:translate(-50%,-50%) scale(1); }
.org-dialog__header { display:flex; justify-content:space-between; align-items:center; }
.org-dialog__header h2 { margin:0; font-size:1.25rem; color:var(--brand--dark); }
.org-dialog form { display:flex; flex-direction:column; gap:18px; }
.org-errors { min-height:18px; font-size:0.75rem; color:var(--danger--medium); }
.org-dialog__footer { display:flex; gap:16px; }
.two-cols { display:flex; gap:14px; }
.two-cols > div { flex:1; display:flex; flex-direction:column; gap:6px; }
.two-cols input { background:#fff; }

@media (max-width:520px){
  .org-dialog { padding:18px 20px 24px; border-radius:24px; }
  .two-cols { flex-direction:column; }
}

@media (max-width: 480px) {
  .auth-dialog { padding:16px 18px 20px; border-radius:20px; }
  .auth-btn { padding:8px 14px 8px 16px; font-size:13px; }
}

/* Overlay */
.overlay { position:fixed; inset:0; background:rgba(0,0,0,0.25); opacity:0; visibility:hidden; transition:opacity .25s; z-index:15; }
.overlay.visible { opacity:1; visibility:visible; }

/* Bottom sheet dialog */
#feedback-sheet { position:fixed; left:0; right:0; bottom:0; background:var(--main--light); max-height:85%; border-top-left-radius:28px; border-top-right-radius:28px; box-shadow:0 -4px 20px rgba(0,0,0,.25); transform:translateY(100%); transition:transform .35s cubic-bezier(.32,.72,.29,.99); display:flex; flex-direction:column; z-index:20; }
#feedback-sheet.open { transform:translateY(0); }
.sheet-header { position:relative; padding:16px 56px 8px 24px; }
.sheet-header h2 { margin:8px 0 0 0; font-size:1.3rem; font-weight:600; color:var(--brand--dark); }
.drag-handle { width:54px; height:6px; border-radius:3px; background:var(--gray--20); margin:0 auto 6px; }
.icon-close { position:absolute; top:14px; right:12px; background:transparent; border:none; font-size:22px; color:var(--brand--dark); cursor:pointer; }
.icon-close:hover { color:var(--brand--comp1); }
.sheet-body { overflow-y:auto; padding:0 24px 16px; display:flex; flex-direction:column; gap:28px; }
.block { display:flex; flex-direction:column; gap:16px; }
.address-line { display:flex; justify-content:center; }
.address-pill { background:var(--brand--brand); color:var(--main--light); padding:6px 14px; border-radius:20px; font-size:0.8rem; letter-spacing:.5px; }
.address-pill.loading { position:relative; opacity:0.8; }
.address-pill.loading:after { content:''; width:12px; height:12px; border:2px solid rgba(255,255,255,.6); border-top-color:transparent; border-radius:50%; display:inline-block; margin-left:8px; vertical-align:-2px; animation:spin 0.8s linear infinite; }
.address-pill.error { background: var(--danger--medium); }

@keyframes spin { to { transform:rotate(360deg);} }
.section-title { font-size:0.75rem; margin:0; text-transform:uppercase; letter-spacing:.08em; color:var(--gray--70); }
.question { font-size:1rem; line-height:1.3; margin:0; color:var(--brand--dark); }

/* Category chips slider */
.slider-chooser.compact { gap:12px; align-items:center; }
.slider-chooser.compact .parent { height:auto; }
.categories { display:flex; gap:12px; }
.categories .child { font-size:0.7rem; padding:.45em .9em; border-width:2px; border-radius:22px; line-height:1; }
.categories .child.active { background:var(--brand--brand); color:var(--main--light); }

/* Rating scale refined */
.rating-scale { flex-wrap:wrap; gap:10px; }
.rating-scale .button { flex-direction:column; padding:10px 12px; min-width:70px; font-size:0.65rem; }
.rating-scale .button img { width:30px; height:30px; }
.rating-scale .rate { transition:box-shadow .25s, transform .25s; }
.rating-scale .rate.selected { box-shadow:0 0 0 4px rgba(83,126,112,.35); transform:translateY(-3px); }
.rating-scale .rate:active { transform:translateY(-1px); }

.link-btn { background:transparent; border:none; color:var(--brand--comp1); font-size:0.75rem; cursor:pointer; padding:0; }
.link-btn:hover { text-decoration:underline; }

textarea { width:100%; max-width:100%; border:2px solid var(--gray--30); border-radius:12px; padding:12px 14px; font-family:inherit; resize:vertical; font-size:0.8rem; }
textarea:focus { outline:2px solid var(--brand--brand); }

#more { transition:max-height .3s ease, opacity .3s ease; overflow:hidden; max-height:0; opacity:0; }
#more.expanded { max-height:320px; opacity:1; }
.row-end { display:flex; justify-content:flex-end; }

.sheet-footer { padding:16px 24px 24px; display:flex; gap:16px; border-top:1px solid var(--gray--10); background:linear-gradient(to bottom, rgba(246,250,251,.85), var(--main--light)); }
.sheet-footer .button { flex:1; justify-content:center; font-size:0.85rem; }
.button.ghost { background:var(--gray--10); color:var(--brand--dark); }
.button.ghost:hover { background:var(--gray--20); }

.visually-hidden { position:absolute; left:-10000px; width:1px; height:1px; overflow:hidden; }
body.noscroll { overflow:hidden; }


@media (min-width:760px) {
  #feedback-sheet { left:50%; width:520px; transform:translate(-50%, 100%); border-top-left-radius:32px; border-top-right-radius:32px; }
  #feedback-sheet.open { transform:translate(-50%,0); }
  .sheet-body { padding:0 28px 18px; }
  .rating-scale { justify-content:space-between; }
}
@media (max-width:420px){
  .rating-scale .button { min-width:56px; padding:6px 6px; }
  .rating-scale .button img { width:24px; height:24px; }
  .fab { width:56px; height:56px; font-size:24px; }
}
